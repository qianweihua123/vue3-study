{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/pathProp.ts", "../../shared/src/shapeFlags.ts", "../../shared/src/index.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactive.ts", "../../runtime-core/src/apiWatch.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/renderer.ts", "../src/index.ts"],
  "sourcesContent": ["/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 09:47:17\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-06 17:26:15\n * @FilePath: /vue3-study/packages/runtime-dom/src/nodeOps.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n//nodeOps \u8FD9\u4E2A\u6587\u4EF6\u662F\u64CD\u4F5C dom \u7684\u4E00\u4E9B\u65B9\u6CD5\n\nexport const nodeOps = {\n    //\u521B\u5EFA\u5143\u7D20\u7684\u65B9\u6CD5\n    createElement(tageName) {\n        return document.createElement(tageName)\n    },\n    //\u79FB\u52A8\u8282\u70B9\u7684\u65B9\u6CD5 anchor\u662F\u951A\u70B9\uFF0Cparent \u662F\u7236\u8282\u70B9\n    /**\n    * @description \u63CF\u8FF0\u5728html\u4E2D\uFF0C\u5982\u679C\u9700\u8981\u52A8\u6001\u7684\u63D2\u5165\u6570\u636E\u6807\u7B7E(li\u3001a\u7B49)\uFF0C\n    * \u5219\u9700\u8981\u4F7F\u7528\u5230\u6807\u9898\u6240\u793A\u7684appendChild()\u6216insertBefore()\u6765\u5B9E\u73B0\u3002\n    * appednChild\u53EA\u80FD\u5411\u672B\u5C3E\u6DFB\u52A0\u5B50\u8282\u70B9\n    * nsertBefore() \u65B9\u6CD5\uFF1A\u53EF\u5728\u5DF2\u6709\u7684\u5B50\u8282\u70B9\u524D\u63D2\u5165\u4E00\u4E2A\u65B0\u7684\u5B50\u8282\u70B9\u3002\n    * \u8BED\u6CD5 \uFF1AinsertBefore(newchild,refchild)//\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u65B0\u7684\u8282\u70B9\u53D8\u91CF\n    * \u5982\u679C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A null \u5F80\u540E\u8FFD\u52A0\uFF0C\u5982\u679C\u6709\u503C\uFF0C\u5219\u662F\u5C06\u65B0\u7684\u8282\u70B9\u63D2\u5165\u5230\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4F4D\u7F6E\u7684\u524D\u97621\n    */\n    insert(child, parent, anchor) {\n        //insertBefore\u8FD9\u4E2A\u65B9\u6CD5\u662F\u79FB\u52A8\u6027\u7684     A B C D  -> A C B  D\n        parent.insertBefore(child, anchor || null);\n    },\n    //\u79FB\u9664\u8282\u70B9\u7684\u65B9\u6CD5\uFF0C\u901A\u8FC7\u627E\u5230\u7236\u8282\u70B9\u53BB\u79FB\u9664\n    remove(child){\n        const parent =child.parentNode;\n        if(parent){\n            parent.removeChild(child)\n        }\n    },\n\n    //\u67E5\u627E\u8282\u70B9\n    querySelector(selector){\n        return document.querySelector(selector)\n    },\n\n    //\u67E5\u627E\u7236\u8282\u70B9\n    parentNode(node){\n        return node.parentNode\n    },\n\n    //\u67E5\u627E\u5144\u5F1F\u8282\u70B9\n\n    nextSibling(node){\n        return node.nextSibling\n    },\n\n    //\u8BBE\u7F6E\u6587\u672C\n    setElementText(el,text){\n        el.textContent = text\n    },\n\n    //\u521B\u5EFA\u6587\u672C\n    createText(text){\n        return document.createTextNode(text)\n    },\n\n    setText(node,text){\n        node.nodeValue = text\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 11:43:58\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 11:44:04\n * @FilePath: /vue3-study/packages/runtime-dom/src/modules/attr.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n//\u66F4\u65B0\u5C5E\u6027\n\nexport const patchAttr = (el, key, value) => {\n    if (value == null) {\n        el.removeAttribute(key);\n    } else {\n        el.setAttribute(key, value);\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 11:01:02\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 11:05:45\n * @FilePath: /vue3-study/packages/runtime-dom/src/modules/class.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\nexport const patchClass = (el, value) => {\n    if (value === null) {\n        //\u5982\u679C\u7C7B\u540D\u4E3A\u7A7A\uFF0C\u79FB\u9664\u6389\u4E4B\u524D\u7684\n        el.removeAttribute('class')\n    } else {\n        el.className = value\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 11:19:06\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 11:43:07\n * @FilePath: /vue3-study/packages/runtime-dom/src/modules/event.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\nfunction createInvoker(initialValue) {\n    //\u4F20\u5165\u7684\u662F\u65B0\u4E8B\u4EF6\u540D\u5B57\n    //\u7B2C\u4E00\u884C\u4EE3\u7801\u662F\u521B\u5EFA\u4E00\u4E2A\u7B49\u4E8E\u8BF4\u662F\u4E00\u4E2A\u6A21\u7248\u4E00\u4E2A invoker\u53D8\u91CF\n    //\u8FD9\u4E2A\u53D8\u91CF\u4E0A\u7684\u503C\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u51FD\u6570\u5185\u90E8\u662F\u5728\u8FD9\u4E2A\u53D8\u91CF\u4E0A\u5B9A\u4E49\u4E86\u4E00\u4E2A\u5C5E\u6027\uFF0Cvalue\n    //\u4E0A\u9762\u8FD9\u4E2A\u53D8\u91CF\u4E0A\u7684 value \u503C\u5C31\u662F\u4F20\u5165\u7684\u65B0\u7684\u4E8B\u4EF6\u540D\u5B57\n    //\u6700\u540E\u8FD4\u56DE\u8FD9\u4E2A\u53D8\u91CF\uFF0C\u8FD9\u4E2A\u53D8\u91CF\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u51FD\u6570\u5185\u90E8\u662F\u65B0\u7684\u4E8B\u4EF6\n    //invoker.value = initialValue\n    const invoker:any = (e) => invoker.value(e)\n    invoker.value = initialValue  // \u540E\u7EED\u66F4\u65B0\u7684\u65F6\u5019 \u53EA\u9700\u8981\u66F4\u65B0invoker\u7684value\u5C5E\u6027\n    return invoker\n}\nexport function patchEvent(el, key, nextValue) {\n    //el\u4E0A\u6709\u4E00\u4E2A_vel\u5C5E\u6027\uFF0C\u9ED8\u8BA4\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7ED9\u5230\u53D8\u91CF invokers \u4E0A\n    const invokers = el._vel || (el._vel = {})\n    //\u622A\u53D6\u524D\u4E24\u4F4D\u540E\u9762\u7684\u4E8B\u4EF6\u540D\u5B57\n    const name = key.slice(2).toLowerCase()\n\n    //\u67E5\u770B\u4E4B\u524D\u662F\u5426\u6709\u7F13\u5B58\u8FC7\n    const exisitingInvoker = invokers[name]\n\n    //\u5982\u679C\u6709\u65B0\u7684\u4E8B\u4EF6\u5E76\u4E14\u6709\u7F13\u5B58\u8BF4\u660E\u662F\u66F4\u65B0\n    if (nextValue && exisitingInvoker) {\n        //\u66F4\u65B0\u4E8B\u4EF6\n        exisitingInvoker.value = nextValue\n    }else{\n        //\u65B0\u589E\u7684\u60C5\u51B5\u4E0B\n        if(nextValue){\n          //\u521B\u5EFA invoker\u5E76\u4E14\u7F13\u5B58\n          //createInvoker(nextValue)\u521B\u5EFA\u4E00\u4E2A\u51FD\u6570\u5185\u90E8\u8FD4\u56DE\u65B0\u7684\u4E8B\u4EF6\u540D\u5B57\n          const invoker = (invokers[name] = createInvoker(nextValue))\n          //\u6CE8\u518C\u65B0\u7684\u4E8B\u4EF6\n          el.addEventListener(name, invoker);\n\n        } else if(exisitingInvoker) {\n            //\u5982\u679C\u65B0\u7684\u6CA1\u6709\uFF0C\u4F46\u662F\u7F13\u5B58\u53C8\uFF0C\u90A3\u5C31\u79FB\u9664\u65F6\u95F4\uFF0C\u5E76\u4E14\u5220\u9664\u7F13\u5B58\n            el.removeEventListener(name, exisitingInvoker);\n            invokers[name] = null\n        }\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 11:06:19\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 11:18:45\n * @FilePath: /vue3-study/packages/runtime-dom/src/modules/style.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nexport const patchStyle = (el: any, prev: any, next: any) => {\n    const style = el.style //style\u4E0A\u7684\u5C5E\u6027\u4F1A\u66F4\u65B0\u5728\u8FD9\u4E0A\u9762\n    for (let key in next) { //\u5FAA\u73AF\u65B0\u7684\u5C5E\u6027\n        style[key] = next[key]\n    }\n    //\u5982\u679C\u8001\u7684\u7C7B\u540D\u5728\u65B0\u7684\u4E2D\u6CA1\u6709\uFF0C\u90A3\u5C31\u53BB\u4E4B\u524D\u7684 style \u4E0A\u6E05\u9664\n    for (let key in prev) {\n        if (next[key] == null) {\n            style[key] = null\n        }\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 10:53:28\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-03 19:05:17\n * @FilePath: /vue3-study/packages/runtime-dom/src/pathProp.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\nimport { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/event\";\nimport { patchStyle } from \"./modules/style\";\n//\u6B64\u65B9\u6CD5\u662F\u7528\u6765\u5904\u7406\u5C5E\u6027\uFF0C\u4E8B\u4EF6\u7684\n\nexport const patchProp = (el, key, prevValue, nextValue) => {\n    if (key === 'class') {\n        patchClass(el, nextValue)\n    } else if (key === 'style') {\n        patchStyle(el, prevValue, nextValue);\n    } else if (/^on[^a-z]/.test(key)) {\n        patchEvent(el, key, nextValue);\n    } else {\n        patchAttr(el, key, nextValue);\n    }\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 14:25:59\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 14:26:39\n * @FilePath: /vue3-study/packages/shared/src/shapeFlags.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nexport const enum ShapeFlags {\n    ELEMENT = 1, // \u865A\u62DF\u8282\u70B9\u662F\u4E00\u4E2A\u5143\u7D20\n    FUNCTIONAL_COMPONENT = 1 << 1, // \u51FD\u6570\u5F0F\u7EC4\u4EF6\n    STATEFUL_COMPONENT = 1 << 2, // \u666E\u901A\u7EC4\u4EF6\n    TEXT_CHILDREN = 1 << 3, // \u513F\u5B50\u662F\u6587\u672C\u7684\n    ARRAY_CHILDREN = 1 << 4, // \u513F\u5B50\u662F\u6570\u7EC4\n    SLOTS_CHILDREN = 1 << 5, // \u63D2\u69FD\n    TELEPORT = 1 << 6,\n    SUSPENSE = 1 << 7,\n    COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\n    COMPONENT_KEPT_ALIVE = 1 << 9,\n    COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT,\n  }\n\n  // console.log(ShapeFlags.COMPONENT); //\n  // 000000110\n  // 000000010\n\n  // 000000010\n\n  // \u7528\u5927\u7684\u548C\u5C0F\u7684\u505A\u4E0E\u8FD0\u7B97 > 0 \u5C31\u8BF4\u660E\u6DB5\u76D6\n  // console.log(ShapeFlags.COMPONENT & ShapeFlags.FUNCTIONAL_COMPONENT);\n\n  // <<   000000100\n  // | \u67091\u4E2A\u662F1 \u5C31\u662F1\n  // 00000100\n  // 00000010\n\n  // 000000110\n\n  // & \u8FD0\u7B97\u5C31\u662F\u90FD\u662F1 \u624D\u662F1\n\n  // COMPONENT & FUNCTIONAL_COMPONENT\n", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-10-26 14:32:28\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 14:45:26\n * @FilePath: /vue3-study/packages/shared/src/index.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nexport const isObject = (val) => {\n\treturn val !== null && typeof val === 'object';\n};\n\nexport function isFunction(value) {\n\treturn typeof value === \"function\";\n}\n\nexport function isString(value) {\n\treturn typeof value === \"string\";\n}\n\nexport * from \"./shapeFlags\";", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-10-26 16:51:01\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-10-30 17:44:23\n * @FilePath: /vue3-study/packages/reactivity/src/effect.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nexport let activeEffect;\n\nfunction cleanupEffect(effect) {\n    //effect\u8FD9\u4E2A\u4F20\u5165\u7684\u662F\u5B9E\u4F8B\uFF0C\u5B9E\u4F8B\u4E0A\u6709\u4E2A deps \u5C5E\u6027\uFF0C\u5728\u6B64\u5904\u5220\u9664\u4F9D\u8D56\u7684\u65F6\u5019 targetMap\u91CC\u9762\u7684\u5B58\u50A8\u7684\u4E5F\u6E05\u7A7A\u4E86\uFF0C\u65AD\u70B9\u8C03\u8BD5\u53EF\u67E5\u770B\n    let { deps } = effect\n    for (let i = 0; i < deps.length; i++) {\n        deps[i].delete(effect) //\u5220\u9664\u5F53\u524D\u7684 effect\u4F9D\u8D56\n    }\n    effect.deps.length = 0 //\u5220\u9664\u540E\u4F46\u662F\u6570\u7EC4\u7684\u957F\u5EA6\u8FD8\u5728\u90A3\uFF0C\u6240\u6709\u8BBE\u7F6E\u4E3A 0\n}\nexport class ReactiveEffect {\n    // public\u5199\u6CD5\u76F8\u5F53\u4E8E this.fn = fn\n    public active = true //\u662F\u5426\u6FC0\u6D3B\n    public deps = []\n    public parent = undefined\n\n    constructor(public fn, private scheduler) {\n\n    }\n    run() {\n        if (!this.active) {\n            //\u5982\u679C\u5F53\u524D effect \u672A\u6FC0\u6D3B,\u90A3\u5C31\u53EA\u6267\u884C\u4E0B\u7528\u6237\u4F20\u5165\u7684 fn\n            return this.fn()\n        }\n        //\u6FC0\u6D3B\u72B6\u6001\u7684\u60C5\u51B5\u4E0B\n        try {\n            //this\u4EE3\u8868\u5F53\u524D\u7684 effect\uFF0C\u8D4B\u503C\u5230 activeEffect\u4E0A\n            //\u591A\u5C42 effect \u5D4C\u5957\u7684\u60C5\u51B5\u4E0B\uFF0C\u5916\u5C42 parent \u9ED8\u8BA4\u503C\u662F undefined\n            //\u5F53\u91CC\u5C42 effect \u6267\u884C\u7684\u65F6\u5019\u8FD9\u4E2A\u65F6\u5019 activeEffect\u56E0\u4E3A\u662F\u5168\u5C40\u53D8\u91CF\u5DF2\u7ECF\u6709\u503C\u4E86\uFF0C\u5916\u5C42\u7684 parent \u662F undefined,\u5185\u5C42\u7684 parent \u8FD9\u4E2A\u65F6\u5019\n            //activeEffect\u5DF2\u7ECF\u6709\u503C\u4E86\uFF0C\u6240\u4EE5\u5B83\u7684 parent\u662F\u5916\u5C42\u7684\u8FD9\u4E2A this\n            this.parent = activeEffect\n            activeEffect = this\n            //\u6BCF\u6B21 run \u7684\u65F6\u5019\u6E05\u7A7A\u6B64 effect \u4E0A\u6536\u96C6\u7684\u54EA\u4E9B\u5C5E\u6027\u5B58\u50A8\u4E86\u8FD9\u4E2A\u4F9D\u8D56\uFF0C\u5728\u8FD9\u4E00\u6E05\u695A targetmap\u4E2D\u4E5F\u6E05\u9664\u4E86\uFF0C\u6E05\u9664\u540E\u4F1A\u6267\u884C fn\uFF0C\u8FD9\u4E2A\u65F6\u5019\u53C8\u4F1A\u91CD\u65B0\u628A effect \u6536\u96C6\u8FDB\u53BB\uFF0C\u53EF\u4EE5\u65AD\u70B9\u8C03\u8BD5\n            //\u53EF\u4EE5\u770B\u4E0B\u5355\u6D4B\u4E2D\u7684\u4E8B\u4F8B\uFF0C\u5F53 flag \u6539\u53D8\u65F6\uFF0C\u53E6\u5916\u4E00\u4E2A\u53D8\u91CF\u4E0D\u7528\u4E86\uFF0C\u5982\u679C\u4E0D\u6E05\u9664\uFF0C\u90A3\u5C31\u53C8\u4F1A\u6267\u884C run \u65B9\u6CD5\uFF0C\u4F46\u662F\u8FD9\u4E2A\u65F6\u5019\u91CC\u9762\u6CA1\u6709\u7528\u5230\u8FD9\u5C5E\u6027\u4E86\n            cleanupEffect(this)\n            return this.fn()\n        } finally {\n            //\u4EE3\u7801\u6267\u884C\u5B8C\u540E\u5C06 activeEffect \u8D4B\u503C\u4E3A\u5916\u5C42\u7684 activeEffect\n            activeEffect = this.parent\n\n        }\n    }\n    stop() {\n        if (this.active) {\n            //\u8C03\u7528 stop \u65B9\u6CD5\u7684\u65F6\u5019\u53EF\u4EE5\u6E05\u7A7A\u6B64 effect \u4E0A\u7684\u4F9D\u8D56\n            cleanupEffect(this)\n            this.active = false //\u53D8\u6210\u5931\u6D3B\u72B6\u6001\n        }\n    }\n}\n\n//track\u65B9\u6CD5\u7528\u6765\u6536\u96C6\u4F9D\u8D56\nconst targetMap = new WeakMap()//key\u53EA\u80FD\u662F\u5BF9\u8C61\uFF0C\u65B9\u4FBF\u5783\u573E\u56DE\u6536\uFF0Ckey \u6D88\u9664\uFF0C\u503C\u81EA\u52A8\u56DE\u6536\nexport function track(target, key) {\n    if (!activeEffect) return;\n    //\u5148\u5C1D\u8BD5\u53BB targetMap \u4E2D\u53D6\u51FA\n    let depsMap = targetMap.get(target)\n    //\u5982\u679C\u4E0D\u5B58\u5728\u90A3\u5C31\u8BBE\u7F6E\u4E0B\n    if (!depsMap) {\n        targetMap.set(target, (depsMap = new Map()))\n    }\n    //\u5982\u679C\u80FD\u6B63\u5E38\u53D6\u51FA\uFF0C\u90A3\u5C31\u901A\u8FC7 key \u53BB\u53D6\u51FA set\u7ED3\u6784\n    let dep = depsMap.get(key)\n    //\u5982\u679C\u4E0D\u5B58\u5728\u90A3\u5C31\u8BBE\u7F6E\u8FDB\u53BB\n    if (!dep) {\n        depsMap.set(key, (dep = new Set()))\n    }\n    //\u6700\u540E\u5C06 effect \u8BBE\u7F6E\u8FDB\u5165 set \u7ED3\u6784\n    trackEffects(dep)\n\n}\n\nexport function trackEffects(dep) {\n    let shouldTrack = !dep.has(activeEffect)\n    if (shouldTrack) {\n        dep.add(activeEffect)\n        //\u8BB0\u5F55\u54EA\u4E9B\u5C5E\u6027\u5B58\u50A8\u4E86\u6B64 activeEffect\n        activeEffect.deps.push(dep) // \u540E\u7EED\u9700\u8981\u901A\u8FC7effect\u6765\u6E05\u7406\u7684\u65F6\u5019\u53EF\u4EE5\u53BB\u4F7F\u7528\n    }\n}\n\nexport function trigger(target, key, newValue, oldValue) {\n    //reactive\u8FC7\u7684\u6570\u636E\u5DF2\u7ECF\u5B58\u50A8\u8FC7\u5230 weakMap \u7ED3\u6784\n    let depsMap = targetMap.get(target)\n    //\u672A\u8BB0\u5F55\u8FC7\u7684\u76F4\u63A5 return\n    if (!depsMap) {\n        return\n    }\n    //\u5728 map \u7ED3\u6784\u4E2D\u6839\u636E\u5C5E\u6027 key \u540D\uFF0C\u53D6\u51FA dep\uFF0Cdep \u662F\u4E00\u4E2A set \u7ED3\u6784\uFF0C\u5B58\u50A8 effect\n    let dep = depsMap.get(key)\n    if (dep) {\n        //\u5C06 dep\u62FF\u4E00\u4EFD\u51FA\u6765\u53BB\u5FAA\u73AF\u6267\u884C run \u65B9\u6CD5\uFF0C\u5BF9\u6BD4 effects\u548C dep \u662Ffalse\u4E0D\u76F8\u7B49\u7684\uFF0C\u72EC\u7ACB\u7684\n        triggerEffects(dep)\n    }\n\n\n}\n\nexport function triggerEffects(dep) {\n    // if(!dep.length) return\n    if (dep) {\n        const effects = [...dep]\n        effects.forEach(effect => {\n            // \u5F53\u6211\u91CD\u65B0\u6267\u884C\u6B64effect\u65F6\uFF0C\u4F1A\u5C06\u5F53\u524D\u7684effect\u653E\u5230\u5168\u5C40\u4E0A activeEffect,\u9632\u6B62\u591A\u6B21\u6267\u884C\u6B64effct\n            //\u5982\u679C\u4E0A\u4E00\u4E2A\u8FD8\u6CA1\u6709\u6267\u884C\u5B8C\u8FD9\u4E2A\u65F6\u5019activeEffect\u548C\u4E0B\u4E00\u4E2A\u4E00\u6837\uFF0C\u5C31\u4E0D\u7528\u91CD\u590D\u6267\u884C\u4E86\n            if (activeEffect != effect) {\n                if (!effect.scheduler) {\n                    effect.run()\n                } else {\n                    effect.scheduler();\n                }\n            }\n        });\n    }\n}\nexport function effect(fn, options: any = {}) {\n    // effect\u5185\u90E8\u4F7F\u7528\u4E86 es6 \u7684\u7C7B\u6765\u5B9E\u73B0\n    const _effect = new ReactiveEffect(fn, options.scheduler)\n    //\u4E00\u8FDB\u5165\u7A0B\u5E8F\u9ED8\u8BA4\u6267\u884C\u4E00\u6B21\u4F20\u5165\u7684\u53C2\u6570 fn\n    _effect.run()\n    //\u6B64\u51FD\u6570\u8FD8\u9700\u8981\u8FD4\u56DE\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\uFF0C\u8C03\u7528\u53EF\u4EE5\u6267\u884C\uFF0C\u8D77\u59CB\u5C31\u662F\u8FD4\u56DE run \u65B9\u6CD5\n    const runner = _effect.run.bind(_effect)\n    //\u5E76\u5C06\u6B64 effect \u653E\u5230 runner \u4E0A\n    runner.effect = _effect\n    return runner\n}\n", "\n/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-10-26 14:58:21\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-10-29 09:48:21\n * @FilePath: /vue3-study/packages/reactivity/src/reactive.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n//\u6211\u4EEC\u5B9A\u4E49\u5728 shared \u6587\u4EF6\u5939\u4E0B\u7684\u5DE5\u5177\u51FD\u6570\u65B9\u6CD5\nimport { isObject } from '@vue/shared';\nimport { mutableHandlers } from './baseHandlers';\n\n//ts \u7684\u679A\u4E3E\u7ED9\u610F\u89C1 proxy \u8FC7\u7684\u5BF9\u8C61\u52A0\u4E2A\u6807\u8BC6\nexport const enum ReactiveFlags {\n    IS_REACTIVE = \"__v_isReactive\",\n}\n\nexport function isReactive(target) {\n    return !!(target && target[ReactiveFlags.IS_REACTIVE]);\n  }\n\n//WeakMap key \u53EA\u80FD\u662F\u5BF9\u8C61\uFF0C\u5E76\u4E14 key \u6E05\u7A7A\uFF0C\u503C\u7684\u5F15\u7528\u4E5F\u6E05\u695A\uFF0C\u5229\u7528\u5783\u573E\u56DE\u6536\nconst reactiveMap = new WeakMap();\n\nexport function reactive(target) {\n    /**\n    *  \u5982\u679C\u4F20\u5165\u7684\u4E0D\u662F\u5BF9\u8C61\u7684\u8BDD\uFF0C\u76F4\u63A5\u4E0D\u5F80\u4E0B\u6267\u884C\u4E86\n    */\n    if (!isObject(target)) {\n        return target;\n    }\n    //\u76F8\u5F53\u4E8E\u6211\u5728\u8FD9\u91CC\u5F3A\u884C\u7ED9\u8FD9\u4E2A\u5BF9\u8C61\u52A0\u4E86\u4E2A\u8BBF\u95EE\u64CD\u4F5C\uFF0C\u89E6\u53D1\u4E86 get\uFF0C\u5982\u679C\u8BBF\u95EE\u7684\u5C5E\u6027\u540D\u662F\u6211\u4EEC\u5B9A\u4E49\u7684\uFF0C\u8BF4\u660E\u5DF2\u7ECF\u4EE3\u7406\u8FC7\n    if(target[ReactiveFlags.IS_REACTIVE]){\n        return target\n    }\n\n    //\u67E5\u770B\u662F\u5426\u5B58\u50A8\u8FC7\uFF0C\u5B58\u50A8\u8FC7\u76F4\u63A5\u8FD4\u56DE\u4E4B\u524D\u7684\u7ED3\u679C\n    const exisitsProxy = reactiveMap.get(target);\n\n    if (exisitsProxy) {\n      return exisitsProxy;\n    }\n    /**\n    * \u5185\u90E8\u662F\u901A\u8FC7 proxy \u5B9E\u73B0\u7684\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u6211\u4EEC\u62BD\u79BB\u51FA\u53BB\n    */\n   const proxy = new Proxy(target,mutableHandlers);\n\n   //\u5982\u679C\u6CA1\u6709\u5B58\u50A8\u8FC7\uFF0C\u90A3\u5C31\u8BBE\u7F6E\u8FDB\u53BB\n   reactiveMap.set(target, proxy);\n\n   return proxy\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-10-29 09:21:20\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-03 19:03:32\n * @FilePath: /vue3-study/packages/runtime-core/src/apiWatch.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nimport { isFunction, isObject } from \"@vue/shared\";\nimport { isReactive } from '../../reactivity/src/reactive'\nimport { ReactiveEffect } from \"../../reactivity/src/effect\";\n//\u7B2C\u4E00\u4E2A\u53C2\u6570\u89C2\u5BDF\u7684\u6E90\uFF0C\u7B2C\u4E8C\u4E2A\u56DE\u8C03\u51FD\u6570\uFF0C\u4E09\u662F\u914D\u7F6E\u7684\u9009\u9879\nexport function watch(source, cb, options?) {\n    return doWatch(source, cb, options)\n}\n\n//\u8FD9\u7684 effect \u76F8\u5F53\u4E8E watch \u91CC\u9762\u7684 source\uFF0C\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u7528\u4E8E\u91CD\u65B0\u8BA1\u7B97\uFF0Coptions\u662F\u914D\u7F6E\u9879\nexport function watchEffect(effect, options?) {\n    //\u6B64\u65B9\u6CD5\u6CA1\u6709\u56DE\u8C03\u51FD\u6570\n    doWatch(effect, null, options);\n}\n\nfunction traverse(source, s = new Set()) {\n    if (!isObject(source)) {\n        return source\n    }\n    if (s.has(source)) { //\u91C7\u7528 set \u7ED3\u6784\u6765\u5B58\u50A8\n        return source\n    }\n    s.add(source) //\u5B58\u50A8\u8FDB\u53BB\n    for (let key in source) {\n        traverse(source[key], s) //\u9012\u5F52\u53D6\u503C\uFF0C\u4E00\u65E6\u8BBF\u95EE\u5C31\u4F1A\u6536\u96C6 effect\n    }\n\n    return source\n}\nfunction doWatch(source, cb, options) {\n    let getter //\u7A0D\u5FAE\u4F1A\u4F20\u5165 effect\u7C7B \u4E2D\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u51FD\u6570\uFF0C\n    if (isReactive(source)) { //\u662F\u4EE3\u7406\u540E\u7684\u5BF9\u8C61\u7684\u60C5\u51B5\u4E0B\n        getter = () => traverse(source)\n    } else if (isFunction(source)) { //\u5982\u679C\u662F\u51FD\u6570\uFF0C\u8D4B\u503C\u5230 getter\n        getter = source\n    }\n\n    let oldValue;//\u7528\u4E8E\u5B58\u50A8\u8001\u503C\n    let cleanup;\n    //\u7528\u6237\u5982\u679C\u4F7F\u7528 onCleanup \u4F1A\u4F20\u5165\u4E00\u4E2A\u51FD\u6570 \uFF0C\u7528\u6237\u5728\u5916\u90E8\u4E00\u65E6\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570\u90A3\u5C31\u597D\u8BB2\u7528\u6237\u4F20\u5165\n    //\u7684\u51FD\u6570\u8D4B\u503C\u5230\u5185\u90E8\u7684 cleanup \u4E0A\uFF0C\u8FD9\u4E0A\u9762\u5C31\u6709\u503C\u4E86\n    //onCleanup\u662F\u6E90\u7801\u4E2D\u5B9A\u4E49\u7684\u4E00\u4E2A\u51FD\u6570\uFF0C\u653E\u5230\u4E86 cb \u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u4E0A\u9762\n    //\u4E00\u65E6\u6267\u884C\u5C06\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\u653E\u5230 cleanup\u53D8\u91CF\u4E0A\u4E86\n    const onCleanup = (userCb) => {\n        cleanup = userCb;\n    }\n    //\u5B9A\u4E49\u8C03\u5EA6\u51FD\u6570\n    const job = () => {\n        if (cb) {\n            let newValue = effect.run() //return \u6267\u884C\u7684\u662F getter\n            //\u7B2C\u4E00\u6B21\u6267\u884C\u7684\u65F6\u5019\u8FD9\u4E2A\u503C cleanup \u662F\u7A7A\u7684\uFF0C\u56E0\u4E3A\u8FD8\u6CA1\u6267\u884C cb\uFF0Ccb \u91CC\u9762\u624D\u4F1A\u8D4B\u503C\n            //\u5982\u679C watch \u89C2\u6D4B\u7684\u53D8\u91CF\u8FDE\u7EED\u6539\uFF0C\u90A3\u4E48\u7B2C\u4E8C\u6B21\u6267\u884C\u7684 cb\u7684\u67D0\u6BB5\u4F9D\u8D56\u4F20\u5165\u53D8\u91CF\u7684\u7A0B\u5E8F \u4F1A\u88AB\u5C4F\u853D\u6389\uFF0C\u56E0\u4E3A\u8FD9\u4E2A\u65F6\u5019 cleanup \u5DF2\u7ECF\u6709\u503C\u4E86\n            //\u56E0\u4E3A\u5229\u7528\u4E86\u95ED\u5305\uFF0C\u6240\u4EE5\u7B2C\u4E00\u6B21\u6267\u884C cb \u4FDD\u5B58\u4E86\u7B2C\u4E00\u6B21\u7684 flag\uFF0C\u7B2C\u4E8C\u6B21\u6267\u884C\u56DE\u8C03\u7684\u65F6\u5019\u6709\u503C\uFF08\u8FD9\u4E2A\u503C\u662F\u7B2C\u4E00\u6B21\u7684 \u5305\u542Bflag\u7684\u51FD\u6570\uFF09\n            //\u5C06\u8FD9\u4E2A flag \u6539 false\uFF0C\u7B49\u5230\u7B2C\u4E00\u6B21\u7684\u5F02\u6B65\u51FD\u6570\u6267\u884C\u5B8C\uFF0C\u518D\u6267\u884C flag \u6807\u8BC6\u4E0B\u9762\u7A0B\u5E8F\u7684\u65F6\u5019\u5DF2\u7ECF\u6539\u5B8C flag\uFF0C\u5DF2\u7ECF\u5C4F\u853D\u6389\u4E86\n            if (cleanup) cleanup();\n            //\u7528\u6237\u4F20\u5165\u7684\u56DE\u8C03\u51FD\u6570\u5982\u679C\u4F20\u5165\u4E86\u4E09\u4E2A\u53C2\u6570\uFF0C\u8BF4\u660E\u7B2C\u4E09\u4E2A\u5BF9\u5E94 oncleanup\n            cb(newValue, oldValue, onCleanup) //\u8C03\u7528\u56DE\u8C03\u51FD\u6570\u4F20\u5165\u65B0\u503C\u548C\u8001\u503C\n            //\u7136\u540E\u5C06\u65B0\u503C\u8D4B\u503C\u5230\u8001\u503C\u4E0A\n            oldValue = newValue\n        } else {\n            //\u6CA1\u6709\u56DE\u8C03\u7684\u60C5\u51B5\u4E0B\uFF0C\u76F4\u63A5\u6267\u884C getterc\n            effect.run()\n        }\n    }\n    //getter\u662F fn\uFF0Cjob \u662F schedluer \u56DE\u8C03\u51FD\u6570\n    const effect = new ReactiveEffect(getter, job)\n    //\u5982\u679C\u914D\u7F6E\u4E86 immediate \u90A3\u5C31\u7ACB\u5373\u6267\u884C\n    if (options?.immediate) {\n        return job()\n    }\n\n    oldValue = effect.run()//\u8D4B\u503C\u8001\u503C\n\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 14:21:53\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-06 16:57:49\n * @FilePath: /vue3-study/packages/runtime-core/src/vnode.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nimport { isObject, isString, ShapeFlags } from \"@vue/shared\";\n//\u7533\u660E text \u7C7B\u578B\nexport const Text = Symbol(\"text\");\nexport const Fragment = Symbol(\"fragment\"); //\u6587\u6863\u788E\u7247\n\nexport function isVNode(vnode) {\n    return vnode.__v_isVnode == true;\n}\n\nexport function isSameVNode(n1, n2) {\n    return n1.type === n2.type && n1.key === n2.key;\n}\n\n//type\u5176\u5B9E\u5C31\u662F\u6807\u7B7E\u540D\nexport function createVNode(type, props = null, children = null) {\n    // \u7EC4\u4EF6\n    // \u5143\u7D20\n    // \u6587\u672C\n    // \u81EA\u5B9A\u4E49\u7684keep-alive..\n    // \u7528\u6807\u8BC6\u6765\u533A\u5206 \u5BF9\u5E94\u7684\u865A\u62DF\u8282\u70B9\u7C7B\u578B \uFF0C \u8FD9\u4E2A\u8868\u793A\u91C7\u7528\u7684\u662F\u4F4D\u8FD0\u7B97\u7684\u65B9\u5F0F \u53EF\u4EE5\u65B9\u4FBF\u7EC4\u5408\n    const shapeFlag = isString(type)\n        ? ShapeFlags.ELEMENT\n        : isObject(type)\n            ? ShapeFlags.COMPONENT\n            : 0;\n    // \u865A\u62DF\u8282\u70B9\u8981\u5BF9\u5E94\u771F\u5B9E\u8282\u70B9\n    const vnode = {\n        __v_isVnode: true, // \u6DFB\u52A0\u6807\u8BC6\u662F\u4E0D\u662Fvnode\n        type,\n        props,\n        children,\n        shapeFlag,\n        key: props?.key,\n        el: null, // \u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\n    };\n    if (children) {\n        let type = 0\n        if (Array.isArray(children)) {\n            // [vnode\uFF0C'\u6587\u672C']\n            type = ShapeFlags?.ARRAY_CHILDREN\n        } else {\n            // \u6587\u672C\n            type = ShapeFlags.TEXT_CHILDREN;\n        }\n\n        vnode.shapeFlag |= type;\n    }\n    return vnode; // \u6839\u636E  vnode.shapeFlag  \u6765\u5224\u65AD\u81EA\u5DF1\u7684\u7C7B\u578B\u548C\u5B69\u5B50\u7684\u7C7B\u578B\n}", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 16:16:50\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-02 20:26:13\n * @FilePath: /vue3-study/packages/runtime-core/src/h.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n// \u63D0\u4F9B\u591A\u6837\u7684api \u6839\u636E\u53C2\u6570\u6765\u533A\u5206\n\nimport { isObject } from \"@vue/shared\";\nimport { createVNode, isVNode } from \"./vnode\";\n\nexport function h(type, propsOrChildren?, children?) {\n    //h \u7684\u4F20\u53C2\u662F\u591A\u79CD\u591A\u6837\u7684\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5224\u65AD\u53C2\u6570\u7684\u957F\u5EA6\n    const l = arguments.length\n    // h(type,{})   h(type,h('span')) => h(type,[h('span')])\n    //  h(type,[])   h(type,'\u6587\u672C')\n    if (l == 2) { // \u53EA\u6709\u5C5E\u6027\uFF0C\u6216\u8005\u4E00\u4E2A\u5143\u7D20\u513F\u5B50\u7684\u65F6\u5019\n        //\u5982\u679C\u957F\u5EA6\u4E3A 2 \u7684\u8BDD\u6709\u4E0A\u9762\u8FD9\u51E0\u79CD\u60C5\u51B5\n        if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\n            //\u5982\u679C\u662F\u5BF9\u8C61\u5E76\u4E14\u4E0D\u662F\u6570\u7EC4 h(type,{})\n            if (isVNode(propsOrChildren)) {\n                return createVNode(type, null, [propsOrChildren]);\n            }\n            return createVNode(type, propsOrChildren);\n        } else {\n            // \u6570\u7EC4 \u6216\u8005\u6587\u672C\n            return createVNode(type, null, propsOrChildren);\n        }\n    } else {\n        if (l > 3) {\n            children = Array.from(arguments).slice(2);\n            // h('div',{},'a','b','c') \u8FD9\u6837\u64CD\u4F5C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5FC5\u987B\u662F\u5C5E\u6027 h('div','e','a','b','c')\n\n            // h('div',{},h('span')) => h('div',{},[h('span')])\n        } else if (l === 3 && isVNode(children)) {\n            children = [children];\n        }\n        return createVNode(type, propsOrChildren, children);\n    }\n}", "import { ShapeFlags } from \"@vue/shared\";\nimport { isSameVNode, Text, Fragment } from \"./vnode\";\n\nexport function createRenderer(options) {\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n  } = options;\n  //\u6302\u8F7D\u5B50\u8282\u70B9\uFF0C\u5185\u90E8\u4E5F\u662F\u5FAA\u73AF\u8C03\u7528 patch\n  const mountChildren = (children, el) => {\n    for (let i = 0; i < children.length; i++) {\n      patch(null, children[i], el);\n    }\n  };\n  //\u5378\u8F7D\u5B50\u8282\u70B9\n  const unmountChildren = (children) => {\n    for (let i = 0; i < children.length; i++) {\n      unmount(children[i]);\n    }\n  };\n  const mountElement = (vnode, container, anchor) => {\n    const { type, props, children, shapeFlag } = vnode;\n    // \u521B\u5EFA\u5143\u7D20\n    const el = (vnode.el = hostCreateElement(type));\n    // \u589E\u6DFB\u5C5E\u6027\n    if (props) {\n      for (let key in props) {\n        hostPatchProp(el, key, null, props[key]);\n      }\n    }\n    // \u5904\u7406\u5B50\u8282\u70B9\n    if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      mountChildren(children, el);\n    } else if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      hostSetElementText(el, children);\n    }\n    hostInsert(el, container, anchor);\n  };\n\n  const patchProps = (oldProps, newProps, el) => {\n    if (oldProps !== newProps) {\n      for (let key in newProps) {\n        const prev = oldProps[key];\n        const next = newProps[key];\n        if (prev != next) {\n          // \u7528\u65B0\u7684\u6539\u6389\u8001\u7684\n          hostPatchProp(el, key, prev, next);\n        }\n      }\n      for (let key in oldProps) {\n        if (!(key in newProps)) {\n          // \u8001\u7684\u5B58\u5728\u7684\u65B0\u7684\u6CA1\u6709\u4E86\n          const prev = oldProps[key];\n          hostPatchProp(el, key, prev, null);\n        }\n      }\n    }\n  };\n  const patchKeyedChildren = (c1, c2, el) => {\n    // \u5168\u91CF\u7684diff\u7B97\u6CD5  \u6BD4\u5BF9\u8FC7\u7A0B\u662F\u6DF1\u5EA6\u904D\u5386\uFF0C\u5148\u904D\u5386\u7236\u4EB2 \u5728\u904D\u5386\u5B69\u5B50 \u4ECE\u7236-> \u5B50 \u90FD\u8981\u6BD4\u5BF9\u4E00\u904D\n    // \u76EE\u524D\u6CA1\u6709\u4F18\u5316\u6BD4\u5BF9\uFF0C\u6CA1\u6709\u5173\u5FC3 \u53EA\u6BD4\u5BF9\u53D8\u5316\u7684\u90E8\u5206 blockTree patchFlags\n    // \u540C\u7EA7\u6BD4\u5BF9 \u7236\u548C\u7236\u6BD4  \u5B50\u548C\u5B50\u6BD4  \u5B59\u5B50\u548C\u5B59\u5B50\u6BD4  \u91C7\u7528\u7684\u662F\u6DF1\u5EA6\u904D\u5386e\n\n    let i = 0; // \u9ED8\u8BA4\u4ECE0 \u5F00\u59CB\u6BD4\u5BF9\n\n    let e1 = c1.length - 1;\n    let e2 = c2.length - 1;\n\n    // i = 0, e1 = 2 , e2 = 3\n\n    // a b    e d\n    // a b c   e d\n    // \u4ECE\u5934\u5F00\u59CB\u6BD4\u8F83\n    while (i <= e1 && i <= e2) {\n      // \u5E76\u4E14\u662F\u4E00\u65B9\u4E0D\u6210\u529F\u5C31\u662Ffalse\n      const n1 = c1[i];\n      const n2 = c2[i];\n\n      if (isSameVNode(n1, n2)) {\n        patch(n1, n2, el); // \u6DF1\u5EA6\u904D\u5386\n      } else {\n        break;\n      }\n      i++;\n    }\n    // i = 2, e1 = 3 , e2 = 4\n    // \u4ECE\u5C3E\u90E8\u5F00\u59CB\u8FDB\u884C\u6BD4\u8F83\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2];\n      if (isSameVNode(n1, n2)) {\n        patch(n1, n2, el); // \u6DF1\u5EA6\u904D\u5386\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n\n    // a b\n    // a b c d   i = 2  e1 = 1  e2 =3\n\n    //    a b\n    //d c a b    i = 0   e1= -1 e2 = 1\n\n    // \u6211\u8981\u77E5\u9053 \u6211\u662F\u6DFB\u52A0\u8FD8\u662F\u5220\u9664 \uFF1F i \u6BD4 e1 \u5927\u8BF4\u660E\u65B0\u7684\u957F\u8001\u7684\u77ED\n\n    // \u540C\u5E8F\u5217\u6302\u8F7D\n    if (i > e1) {\n      // \u6709\u65B0\u589E\n      if (i <= e2) {\n        while (i <= e2) {\n          // \u770B\u4E00\u4E0B \u5982\u679Ce2 \u5F80\u524D\u79FB\u52A8\u4E86\uFF0C\u90A3\u4E48e2 \u7684\u4E0B\u4E00\u4E2A\u503C\u80AF\u5B9A\u5B58\u5728\uFF0C\u610F\u5473\u7740\u5411\u524D\u63D2\u5165\n          // \u5982\u679Ce2 \u6CA1\u6709\u52A8 \u90A3\u4E48e2 \u4E0B\u4E00\u4E2A\u5C31\u662F\u7A7A\uFF0C\u610F\u5473\u7740\u662F\u5411\u540E\u63D2\u5165\n\n          const nextPos = e2 + 1;\n          // \u4FDD\u5B58\u4E4B\u524D\u7684e2\n          // vue2 \u662F\u770B\u4E0B\u4E00\u4E2A\u5143\u7D20\u5B58\u4E0D\u5B58\u5728\n          // vue3 \u662F\u770B\u4E0B\u4E00\u4E2A\u5143\u7D20\u7684\u957F\u5EA6 \u662F\u5426\u8D8A\u754C\n\n          const anchor = nextPos < c2.length ? c2[nextPos].el : null;\n          patch(null, c2[i], el, anchor); // \u6CA1\u6709\u5224\u65AD \u662F\u5411\u524D\u63D2\u5165\u8FD8\u662F\u5411\u540E\u63D2\u5165\uFF1F\n          i++;\n        }\n      }\n    }\n    // a b  c d\n    // a b      i = 2  e1 = 3  e2= 1\n    //  c d a b\n    //      a b   i=0     e1=1   e2=-1\n    else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i]);\n        i++;\n      }\n    }\n    // \u4EC0\u4E48\u60C5\u51B5\u662F\u8001\u7684\u591A \u65B0\u7684\u5C11\n\n    // a b c d e   f g\n    // a b e c d h f g\n\n    // c d e\n    // e c d h\n\n    let s1 = i; // s1 -> e1\n    let s2 = i; // s2 -> e2\n\n    // i =2  e1 =4   e2 = 5\n\n    // \u8FD9\u91CC\u6211\u4EEC\u8981\u590D\u7528\u8001\u8282\u70B9\uFF1F  key  vue2 \u4E2D\u6839\u636E\u8001\u8282\u70B9\u521B\u5EFA\u7684\u7D22\u5F15\u8868  vue3 \u4E2D\u6839\u636E\u65B0\u7684key \u505A\u4E86\u4E00\u4E2A\u6620\u5C04\u8868\n\n    const keyToNewIndexMap = new Map();\n    //\u5FAA\u73AF i \u5230e2 \u4E4B\u95F4\uFF0C\u8FD9\u4E2Ae2 \u662F\u65B0\u8282\u70B9\uFF0C\u751F\u6210\u4E00\u4E2A map \u6620\u5C04\u8BB0\u5F55\n    for (let i = s2; i <= e2; i++) {\n      const vnode = c2[i];\n      keyToNewIndexMap.set(vnode.key, i);\n    }\n    // \u6709\u4E86\u65B0\u7684\u6620\u5C04\u8868\u540E\uFF0C\u53BB\u8001\u7684\u4E2D\u67E5\u627E\u4E00\u4E0B\uFF0C\u770B\u4E00\u4E0B\u662F\u5426\u5B58\u5728\uFF0C\u5982\u679C\u5B58\u5728\u9700\u8981\u590D\u7528\u4E86\n\n    // a b c d e   f g\n    // a b e c d h f g\n\n    // h f\n    // d h f\n    // c d h f\n    // e c d h f\n    const toBePatched = e2 - s2 + 1; //\u8FD9\u4E2A\u662F\u5FAA\u73AF\u4E0B\u6765\u65E0\u6CD5\u6B63\u5E38\u6BD4\u5BF9\u65B0 vnode \u91CC\u9762\u8282\u70B9\u7684\u957F\u5EA6\n    const newIndexToOldMapIndex = new Array(toBePatched).fill(0); // [0,0,0,0]\n    for (let i = s1; i <= e1; i++) {\n      const child = c1[i];\n      let newIndex = keyToNewIndexMap.get(child.key); // \u901A\u8FC7\u8001\u7684key \u6765\u67E5\u627E\u5BF9\u5E94\u7684\u65B0\u7684\u7D22\u5F15\n      // \u5982\u679CnewIndex\u6709\u503C\u8BF4\u660E\u6709\n      if (newIndex == undefined) {\n        // \u8001\u7684\u91CC\u9762\u6709 \u65B0\u7684\u6CA1\u6709\n        unmount(child);\n      } else {\n        // \u6BD4\u5BF9\u4E24\u4E2A\u5C5E\u6027\n        // \u5982\u679C\u524D\u540E\u4E24\u4E2A\u80FD\u590D\u7528\uFF0C\u5219\u6BD4\u8F83\u8FD9\u4E24\u4E2A\u8282\u70B9\n        newIndexToOldMapIndex[newIndex - s2] = i + 1;\n        patch(child, c2[newIndex], el); // \u8FD9\u4E2A\u5730\u65B9\u590D\u7528\u4E86\n      }\n    }\n    // \u5199\u5230\u8FD9\u91CC \u6211\u4EEC\u5DF2\u7ECF\u590D\u7528\u4E86\u8282\u70B9\uFF0C\u5E76\u4E14\u66F4\u65B0\u4E86\u590D\u7528\u8282\u70B9\u7684\u5C5E\u6027\uFF0C\u5DEE\u79FB\u52A8\u64CD\u4F5C\uFF0C\u548C\u65B0\u7684\u91CC\u9762\u6709\u8001\u7684\u4E2D\u6CA1\u6709\u7684\u64CD\u4F5C\n    // \u5982\u4F55\u77E5\u9053 \u65B0\u7684\u91CC\u9762\u6709 \u8001\u7684\u91CC\u9762\u6CA1\u6709 \uFF08\u8001\u7684\u6CA1\u6709\u6620\u5C04\u8868\uFF09\n\n    // [5, 3, 4, 0]  \u5BF9\u5E94\u7684\u4F4D\u7F6E\u5C31\u662F \u8001\u7D22\u5F15+1\n\n    for (let i = toBePatched - 1; i >= 0; i--) {\n      //\u8FD9\u91CC\u7684s2 \u662F i\u8DF3\u51FA\u5FAA\u73AF\u7684\u7B2C\u4E00\u9879let s2 = i; // s2 -> e2\n      //s2 \u52A0\u4E0A    const toBePatched = e2 - s2 + 1  toBePatched\u662F\u4E71\u5E8F\u6BD4\u5BF9\u5143\u7D20\u7684\u957F\u5EA6 i\u662F\u957F\u5EA6\u51CF\u53BB 1\uFF0C\u8FD9\u65F6\u5019\u62FF\u5230\u4E71\u5E8F\u6BD4\u5BF9\u7684\u6700\u540E\u4E00\u9879\n      //\u4E5F\u5C31\u662F\u4E0B\u9762\u7684nextIndex\n      const nextIndex = s2 + i; // \u4E0B\u4E00\u4E2A\u5143\u7D20\u7684\u7D22\u5F15 //\u8FD9\u4E2A\u503C\u6839\u636E\u5FAA\u73AF\u4F1A\u4E00\u76F4\u53D8\u5316\uFF0C\u6240\u6709\u53EF\u4EE5\u66F4\u6362\u951A\u70B9\n      const nextChild = c2[nextIndex]; // \u5148\u62FF\u5230\u7684h  \u6839\u636E\u6211\u4EEC\u4E0A\u9762\u8BF4\u7684\u9700\u8981\u4E71\u5E8F\u6BD4\u5BF9\u7684\u6700\u540E\u4E00\u9879\u7684\u7D22\u5F15\u53D6\u5230\u503C\n      // \u770B\u4E00\u4E0B h \u540E\u9762\u662F\u5426\u6709\u503C \uFF0C\u6709\u503C\u5C31\u5C06h \u63D2\u5165\u5230\u8FD9\u4E2A\u5143\u7D20\u7684\u524D\u9762\uFF0C\u6CA1\u6709\u503C\u5C31\u662FappendChild\n      const anchor = nextIndex + 1 < c2.length ? c2[nextIndex + 1].el : null; //\u770B\u4E0B\u4E71\u5E8F\u6BD4\u5BF9\u6700\u540E\u4E00\u9879\u540E\u9762\u662F\u5426\u6709\u503C\uFF0C\u6709\u503C\u7684\u8BDD\u90A3\u5C31\u62FF\u5230\u4F5C\u4E3A\u951A\u70B9\uFF0C\u6CA1\u6709\u7684\u8BDD\u8BF4\u660E\u4E71\u5E8F\u6BD4\u5BF9\u6700\u540E\u4E00\u9879\u5143\u7D20\u5C31\u662F\u6700\u540E\u4E00\u4E2A\u4E86\uFF0C\u951A\u70B9\u5C31\u662F null\uFF0C\u4F20\u5165\u7684\u8BDD\u5C31\u662F\u8FFD\u52A0\n      // \u9ED8\u8BA4\u627E\u5230f \u628A h \u63D2\u5165\u5230f\u524D\u9762\n      //   a b [e c d h] f g\n      if (newIndexToOldMapIndex[i] == 0) { //\u5982\u679C\u5F53\u524D\u5FAA\u73AF\u9879\u5728\u65B0\u503C\u6620\u5C04\u8868\u91CC\u9762\u503C\u662F 0\uFF0C\u8BF4\u660E\u6CA1\u6709\u80FD\u590D\u7528\u7684\uFF0C\u90A3\u6211\u4EEC\u5C31\u901A\u8FC7\u8C03\u7528 patch \u53BB\u521B\u5EFA\uFF0C\uFF08\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u7A7A\uFF0C\u8BF4\u660E\u662F\u65B0\u5EFA\uFF09\n        patch(null, nextChild, el, anchor); // \u5C06h\u63D2\u5165\u5230 f\u524D\u9762\n        // \u627E\u5230\u65B0\u589E\u7684\u4E86\n        // \u521B\u5EFA\u5143\u7D20\u5728\u63D2\u5165\n      } else {\n        // \u76F4\u63A5\u505A\u63D2\u5165\u64CD\u4F5C\u5373\u53EF\n        //  \u5012\u5E8F\u63D2\u5165\n        hostInsert(nextChild.el, el, anchor); // insert\u662F\u79FB\u52A8\u8282\u70B9 //\u5982\u679C\u503C\u4E0D\u4E3A 0 \u7684\u8BDD\uFF0C\u90A3\u5C31\u76F4\u63A5\u4EE5\u951A\u70B9\u4E3A\u57FA\u51C6\u53BB\u63D2\u5165\n\n        // \u8FD9\u4E2A\u63D2\u5165\u64CD\u4F5C\u6BD4\u8F83\u66B4\u5229\uFF0C \u6574\u4E2A\u505A\u4E86\u4E00\u6B21\u79FB\u52A8\uFF0C\u4F46\u662F\u6211\u4EEC\u9700\u8981\u4F18\u5316\u4E0D\u52A8\u7684\u90A3\u4E00\u9879\n        // [5, 3, 4, 0]  -\u300B [1,2] \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\n        // \u7D22\u5F15\u4E3A 1 \u548C 2\u7684\u4E0D\u7528\u52A8\n\n        //  2 5 8 6 7 9    \u627E\u9012\u589E\u5E8F\u5217\u4E2D\u6700\u957F\u7684   2 5 6 7 9\n      }\n    }\n  }\n  const patchChildren = (n1, n2, el) => {\n    // \u6BD4\u8F83 \u4E24\u65B9\u5B69\u5B50\u7684\u5DEE\u5F02 \u66F4\u65B0el\u4E2D\u7684\u5B69\u5B50\n    const c1 = n1.children;\n    const c2 = n2.children;\n    const prevShapeFlag = n1.shapeFlag;\n    const shapeFlag = n2.shapeFlag;\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        unmountChildren(c1);\n      }\n      if (c1 !== c2) {\n        // \u6587\u672C\u5185\u5BB9\u4E0D\u76F8\u540C\n        hostSetElementText(el, c2);\n      }\n    } else {\n      // \u8001\u513F\u5B50\u662F\u6570\u7EC4, \u65B0\u7684\u662F\u6570\u7EC4\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          console.log('\u65B0\u8001\u90FD\u662F\u513F\u5B50\u6BD4\u5BF9');\n\n          // diff\u7B97\u6CD5\n          patchKeyedChildren(c1, c2, el);\n        } else {\n          // \u8001\u7684\u662F\u6570\u7EC4  \u65B0\u7684\u4E0D\u662F\u6570\u7EC4.\u5220\u9664\u6765\u7684\n          unmountChildren(c1);\n        }\n      } else {\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n          hostSetElementText(el, \"\");\n        }\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          mountChildren(c2, el);\n        }\n      }\n    }\n  };\n  const patchElement = (n1, n2) => {\n    // \u6BD4\u5BF9n1 \u548C n2\u7684\u5C5E\u6027\u5DEE\u5F02\n    let el = (n2.el = n1.el);\n    const oldProps = n1.props || {};\n\n    const newProps = n2.props || {};\n\n    patchProps(oldProps, newProps, el);\n\n    patchChildren(n1, n2, el);\n  };\n\n  const processElement = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      // \u521D\u6B21\u6E32\u67D3\n      mountElement(n2, container, anchor);\n    } else {\n      // diff\u7B97\u6CD5\n\n      patchElement(n1, n2);\n    }\n  };\n  const processText = (n1, n2, el) => {\n    if (n1 == null) {\n      //\u521D\u6B21\u6E32\u67D3\u6587\u672C\u8282\u70B9,\u90A3\u5C31\u521B\u5EFA\u8282\u70B9\u653E\u5230 n2 \u7684 el \u4E0A\u53BB\u8BB0\u5F55\u4E0A\uFF0C\u5E76\u4E14\u63D2\u5165\u5230\u771F\u5B9E\u8282\u70B9\n      hostInsert(n2.el = hostCreateText(n2.children), el);\n    } else {\n      let el = (n2.el = n1.el) //\u56E0\u4E3A\u8FD9\u4E2A\u65B9\u6CD5\u90FD\u662F\u5904\u7406\u6587\u672C\u8282\u70B9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u590D\u7528\u8001\u7684\u771F\u5B9E\u8282\u70B9\n      //\u7136\u540E\u53BB\u66F4\u65B0Text\u6587\u672C\u7684\u503C\uFF0C\u8FD9\u4E2A\u503C\u662F\u5B58\u5728 children \u4E0A\u7684\n      if (n1.children !== n2.children) {\n        //\u6587\u672C\u503C\u4E0D\u4E00\u6837\u7684\u8BDD\uFF0C\u90A3\u5C31\u65B0\u5EFA\u53BB\u63D2\u5165\n        hostSetText(el, n2.children)\n      }\n    }\n  }\n\n  const processFragment = (n1, n2, el) => {\n    if (n1 == null) {\n      //\u521D\u59CB\u5316\u8C03\u7528 mountChildren,\u5185\u90E8\u662F\u8C03\u7528 patch \u65B9\u6CD5\uFF0C\n      /**\n      * @description \u63CF\u8FF0\n  const mountChildren = (children, el) => {\n    for (let i = 0; i < children.length; i++) {\n      patch(null, children[i], el);\n    }\n  };\n      */\n      mountChildren(n2.children, el)\n    } else { //\u5982\u679Cn1 \u548Cn2\u90FD\u6709\u503C\uFF0C\u90A3\u5C31\u76F8\u5F53\u4E8E\u662F\u6BD4\u8F83\u53CC\u65B9\u7684 children \u8282\u70B9\n      patchKeyedChildren(n1.children, n2.children, el)\n    }\n  }\n  const patch = (n1, n2, container, anchor = null) => {\n    if (n1 == n2) {\n      return; // \u65E0\u9700\u66F4\u65B0\n    }\n    // n1 div -\u300B n2 p\n\n    // \u5982\u679C  n1 n2 \u90FD\u6709\u503C \u4F46\u662F\u7C7B\u578B\u4E0D\u540C\u5219\u5220\u9664n1 \u6362n2\n    if (n1 && !isSameVNode(n1, n2)) {\n      unmount(n1); // \u5220\u9664\u8282\u70B9\n      n1 = null;\n    }\n    let { shapeFlag, type } = n2\n    switch (type) {\n      case Text:\n        //\u5904\u7406\u6587\u672C\u6D88\u606F\n        processText(n1, n2, container)\n        break;\n      case Fragment:\n        processFragment(n1, n2, container)\n        break\n      default:\n        if (shapeFlag && ShapeFlags.ELEMENT) {\n          //\u5904\u7406\u5143\u7D20\u8282\u70B9\n          processElement(n1, n2, container, anchor);\n        }\n    }\n\n    // ...\n  };\n  const unmount = (vnode) => {\n    // fragment\u5378\u8F7D\u7684\u65F6\u5019  \u4E0D\u662F\u5378\u8F7D\u7684\u81EA\u5DF1\uFF0C\u800C\u662F\u4ED6\u6240\u6709\u7684\u513F\u5B50\n    if (vnode.type === Fragment) {\n      return unmountChildren(vnode.children);\n    }\n    hostRemove(vnode.el)\n  };\n  const render = (vnode, container) => {\n    if (vnode == null) {\n      // \u5378\u8F7D\uFF1A\u5220\u9664\u8282\u70B9\n\n      if (container._vnode) {\n        // \u8BF4\u660E\u6E32\u67D3\u8FC7\u4E86\uFF0C\u6211\u624D\u9700\u8981\u8FDB\u884C\u5378\u8F7D\u64CD\u4F5C\n        unmount(container._vnode);\n      }\n    } else {\n      // \u521D\u6B21\u6E32\u67D3  \u66F4\u65B0\n\n      patch(container._vnode || null, vnode, container);\n    }\n    container._vnode = vnode; // \u7B2C\u4E00\u6B21\u6E32\u67D3\u4FDD\u5B58\u865A\u62DF\u8282\u70B9\n  };\n  return {\n    // createRenderer \u53EF\u4EE5\u7528\u6237\u81EA\u5B9A\u4E49\u6E32\u67D3\u65B9\u5F0F\n    // createRenderer \u8FD4\u56DE\u7684render\u65B9\u6CD5 \u63A5\u53D7\u53C2\u6570\u662F\u865A\u62DF\u8282\u70B9\u548C\u5BB9\u5668\n    render,\n  };\n}\n", "/*\n * @Author: qwh 15806293089@163.com\n * @Date: 2022-11-02 09:37:57\n * @LastEditors: qwh 15806293089@163.com\n * @LastEditTime: 2022-11-06 11:59:00\n * @FilePath: /vue3-study/packages/runtime-dom/src/index.ts\n * @Description: \u8FD9\u662F\u9ED8\u8BA4\u8BBE\u7F6E,\u8BF7\u8BBE\u7F6E`customMade`, \u6253\u5F00koroFileHeader\u67E5\u770B\u914D\u7F6E \u8FDB\u884C\u8BBE\u7F6E: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nimport { nodeOps } from \"./nodeOps\";//1\n\nimport { patchProp } from \"./pathProp\";\nimport { createRenderer } from \"@vue/runtime-core\";\n\nconst renderOptions = Object.assign(nodeOps, { patchProp })\n\nexport const render = (vnode, container) => {\n    return createRenderer(renderOptions).render(vnode, container);\n  };\n  export * from \"@vue/runtime-core\";"],
  "mappings": "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",
  "names": ["ShapeFlags", "type", "i", "el", "render"]
}
